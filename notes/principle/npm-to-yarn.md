# npm 和 yarn

> 参考 [npm 和 yarn 的关系](https://blog.csdn.net/m0_62907534/article/details/123651452)

## npm

> npm 是 JavaScript 世界的包管理工具,并且是 Node.js 平台的默认包管理工具，也是世界上最大的软件注册表，里面包含超过 600000 个 包的结构，能够使您轻松跟踪依赖项和版本

npm 由三个独立的部分组成

-   网站
-   注册表（registry）
-   命令行工具（Cli）

## yarn

> yarn 是一种新的 Hadoop 资源管理器，它是一个通用资源管理系统，可为上层应用提供统一的资源管理和调度，它的引入为集群在利用率、资源统一管理和数据共享等方面带来了巨大好处。Yarn 是由 Facebook、Google、Exponent 和 Tilde 联合推出了一个新的 JS 包管理工具。是为了**弥补 npm 的一些缺陷**而出现的

## npm 的缺陷（以前）

-   npm 在安装的时候巨慢
-   同一个项目，安装的时候无法保持一致性
-   安装的时候，包会在同一时间下载和安装，中途某个时候，一个包抛出了一个错误，但是 npm 会继续下载和安装包。npm 会把全部信息最后打印，实际的错误可能会在打印的警告消息中丢失。

## yarn 优点

-   速度快
-   安装版本统一：为了防止拉取到不同的版本，Yarn 有一个锁定文件 (lock file) 记录了被确切安装上的模块的版本号。每次只要新增了一个模块，Yarn 就会创建（或更新）yarn.lock 这个文件。这么做就保证了，每一次拉取同一个项目依赖时，使用的都是一样的模块版本
-   更简洁的输出：默认情况下，yarn 结合了 emoji 直观且直接地打印出必要的信息，也提供了一些命令供开发者查询额外的安装信息
-   多注册来源处理：所有的依赖包，不管他被不同的库间接关联引用多少次，安装这个包时，只会从一个注册来源去装
